<!DOCTYPE html>
<html>

<head>
    <title>TJ Physics Team</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="CSS/main.css">
    <link rel="stylesheet" href="CSS/schedule.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" type="text/css"
        href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <link href='JS/calendar/core/main.css' rel='stylesheet' />
    <link href='JS/calendar/daygrid/main.css' rel='stylesheet' />
    <script src='JS/calendar/core/main.js'></script>
    <script src='JS/calendar/daygrid/main.js'></script>
    <script src="JS/three.js"></script>
    <script src="JS/papaparse.min.js"></script>
    <script src="JS/schedule.js"></script>
    <link rel="icon" href="Pics/copy.png">

</head>

<body>
    <nav class="navbar fixed-top">
        <div class="left">
            <a href="index.html"><span>Home</span></a>
            <a href="schedule.html"><span class="active">Schedule</span></a>
            <a href="events.html"><span>Events</span></a>
            <a href="rankings.html"><span>Rankings</span></a>
            <a href="officers.html"><span>Officers</span></a>
        </div>
        <a href="index.html"><img src="Pics/copy.png"></a>
        <div class="right">
            <a href="a.html"><span>A Team</span></a>
            <a href="b.html"><span>B Team</span></a>
            <a href="c.html"><span>C Team</span></a>
            <a href="past.html"><span>Past</span></a>
            <a href="resources.html"><span>Resources</span></a>
        </div>
    </nav>

    <div class="wrap">
        <div id='calendar'></div>
    </div>

    <div class="foot-wrap">
        <footer>
            <div class="row">
                <div class="col-2"></div>
                <div class="col-3 mail">
                    Join our <a href="#">Mailing List</a> <br>
                    <a href="https://github.com/inafi/tjphysicsteam" target="_blank">Open Source.</a> Made with
                    <i class="material-icons">
                        favorite
                    </i>
                    and
                    <i class="material-icons">
                        science
                    </i>
                </div>
                <div class="col-3"></div>
                <div class="col-3 social">
                    <a href="mailto:tjhsstphysicsteam@gmail.com" target="_blank">
                        <i class="material-icons">
                            mail
                        </i>
                    </a>
                    <a href="https://www.facebook.com/groups/1512698338974506" target="_blank">
                        <i class="fa fa-facebook-f"></i>
                    </a>
                </div>
            </div>
        </footer>
    </div>
</body>

<!-- <div class="block" style="background-color: #06D6A0;"></div>
<div class="block" style="background-color: #3D348B;"></div>
<div class="block" style="background-color: #1B98E0;"></div>
<div class="block" style="background-color: #BB0A21;"></div> -->
<script>
    setInterval(function () {
        if ($(window).scrollTop() == 0) {
            $("nav").css('background-color', 'transparent');
            $("nav *").css('color', '#fff');
            $(".active").css('color', '#3D348B');
            $("nav span:hover").css('color', '#3D348B');
            $("nav img").attr("src", "Pics/copy2.png");
        } else {
            $("nav").css('background-color', '#fff');
            $("nav *").css('color', '#1B98E0');
            $(".active").css('color', '#3D348B');
            $("nav span:hover").css('color', '#06D6A0');
            $("nav img").attr("src", "Pics/copy.png");
        }
    }, 20)

    document.addEventListener('DOMContentLoaded', function () {
        var calendarEl = document.getElementById('calendar');

        var calendar = new FullCalendar.Calendar(calendarEl, {
            plugins: ['dayGrid']
        });

        var reqa =
            "https://docs.google.com/spreadsheets/d/e/2PACX-1vQceVGvkhRKu73a7grDmOPnr0kQ1hBomcButE_ERqf4BlhbuJ1LLYWzZOFVKBo0wsVz4bupKXtlMk1A/pub?gid=0&single=true&output=csv";

        $.ajax({
            url: reqa,
            type: "get",
            async: false,
            success: function (data) {
                var arr = Papa.parse(data).data;
                console.log(data);
                console.log(arr.length)

                for (i = 0; i < arr.length; i++) {
                    var month = arr[i][0].split("/")[0];
                    month = month.length > 1 ? month : '0' + month;

                    var day = arr[i][0].split("/")[1];
                    day = day.length > 1 ? day : '0' + day;

                    var year = 2020;
                    if (parseInt(month) > 0 && parseInt(month) < 7)
                        year = 2021;

                    var dateStr = year + "-" + month + "-" + day;
                    console.log(dateStr);
                    var date = new Date(dateStr + 'T00:00:00');

                    calendar.addEvent({
                        title: arr[i][1],
                        start: date,
                        allDay: true,
                        backgroundColor: '#06D6A0'
                    });
                }
            }
        });

        var reqb =
            "https://docs.google.com/spreadsheets/d/e/2PACX-1vQceVGvkhRKu73a7grDmOPnr0kQ1hBomcButE_ERqf4BlhbuJ1LLYWzZOFVKBo0wsVz4bupKXtlMk1A/pub?gid=626361445&single=true&output=csv";

        $.ajax({
            url: reqb,
            type: "get",
            async: false,
            success: function (data) {
                var arr = Papa.parse(data).data;
                console.log(data);
                console.log(arr.length)

                for (i = 0; i < arr.length; i++) {
                    var month = arr[i][0].split("/")[0];
                    month = month.length > 1 ? month : '0' + month;

                    var day = arr[i][0].split("/")[1];
                    day = day.length > 1 ? day : '0' + day;

                    var year = 2020;
                    if (parseInt(month) > 0 && parseInt(month) < 7)
                        year = 2021;

                    var dateStr = year + "-" + month + "-" + day;
                    console.log(dateStr);
                    var date = new Date(dateStr + 'T00:00:00');

                    calendar.addEvent({
                        title: arr[i][1],
                        start: date,
                        allDay: true,
                        backgroundColor: '#1B98E0'
                    });
                }
            }
        });

        var reqc =
            "https://docs.google.com/spreadsheets/d/e/2PACX-1vQceVGvkhRKu73a7grDmOPnr0kQ1hBomcButE_ERqf4BlhbuJ1LLYWzZOFVKBo0wsVz4bupKXtlMk1A/pub?gid=993140585&single=true&output=csv";

            $.ajax({
            url: reqc,
            type: "get",
            async: false,
            success: function (data) {
                var arr = Papa.parse(data).data;
                console.log(data);
                console.log(arr.length)

                for (i = 0; i < arr.length; i++) {
                    var month = arr[i][0].split("/")[0];
                    month = month.length > 1 ? month : '0' + month;

                    var day = arr[i][0].split("/")[1];
                    day = day.length > 1 ? day : '0' + day;

                    var year = 2020;
                    if (parseInt(month) > 0 && parseInt(month) < 7)
                        year = 2021;

                    var dateStr = year + "-" + month + "-" + day;
                    console.log(dateStr);
                    var date = new Date(dateStr + 'T00:00:00');

                    calendar.addEvent({
                        title: arr[i][1],
                        start: date,
                        allDay: true,
                        backgroundColor: '#3D348B'
                    });
                }
            }
        });

        calendar.render();
    });
</script>

</html>